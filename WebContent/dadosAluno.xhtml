<?xml version="1.0" encoding="ISO-8859-1" ?> 
    <!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:jsf="http://xmlns.jcp.org/jsf" lang="pt-br">
    <ui:composition template="template/layout.xhtml">
    	<f:metadata>
    		<f:viewParam name="matricula" value="#{alunoBean.matricula}" />
    		<f:viewAction action="#{alunoBean.carregar}" />
    	</f:metadata> 
        <ui:define name="conteudo">
            <h1>#{alunoBean.titulo}</h1>
            
            <h:panelGroup rendered="#{!facesContext.messageList.isEmpty()}">
            	<div id="infoMensagem">
            		<h:messages/>
            	</div>
            </h:panelGroup>
            <br/>
            <form jsf:id="form">
				<input type="hidden" jsf:value="#{alunoBean.aluno.matricula}"/>
                <fieldset>
                    <legend>Dados Pessoais</legend>
                    <label for="nome">Nome:</label>
                    <br />
                    <input type="text" jsf:value = "#{alunoBean.aluno.nome}" name="nome" id="nome" />
                    <br />
                    <label for="nome">RG:</label>
                    <br />
                    <input type="text" jsf:value="#{alunoBean.aluno.rg}" name="rg" id="rg" />
                    <br />
                    <label for="sexo">Sexo:</label>
                    <br />
                    <select jsf:value="#{alunoBean.aluno.sexo}" name="sexo" id="sexo" size="0">
                        <f:selectItems value="#{dataBean.sexos}"/>
                    </select>
                    <br />
                    <label for="nome">Data de Nascimento</label>
                    <br />
                    <input jsf:value="#{alunoBean.aluno.dataNascimento}" type="date" name="dataNascimento" id="dataNascimento">
                    	<f:convertDateTime type="localDate" pattern="yyyy-MM-dd"/> 
                    </input>
                </fieldset>

                <br />
                <fieldset>
                    <legend>Situação</legend>
                    <label for="situacao"></label>
                    <select jsf:value="#{alunoBean.aluno.situacao}" name="situacao" id="situacao" size="0">
                        <f:selectItems value="#{dataBean.situacao}"/>
                    </select>
                </fieldset>

                <br />
                <fieldset>
                    <legend>Endereco</legend>
                    <label for="rua">Rua:</label>
                    <br />
                    <input type="text" jsf:value="#{alunoBean.aluno.endereco.rua}" name="rua" id="rua" />
                    <br />
                    <label for="numero">Numero:</label>
                    <br />
                    <input type="text" jsf:value="#{alunoBean.aluno.endereco.numero}" name="numero" id="numero" />
                    <br />
                    <label for="complemento">Complemento:</label>
                    <br />
                    <input type="text" jsf:value="#{alunoBean.aluno.endereco.complemento}" name="complemento" id="complemento" />
                    <br />
                    <label for="cidade">Cidade:</label>
                    <br />
                    <input type="text" jsf:value="#{alunoBean.aluno.endereco.cidade}" name="cidade" id="cidade" />
                    <br />
                    <label for="estado">Estado:</label>
                    <br />
                    <select name="estado" jsf:value="#{alunoBean.aluno.endereco.estado.sigla}" id="estado" size="0">
                        <f:selectItems value="#{dataBean.estados}" var="e" itemLabel="#{e.nome}" itemValue="#{e.sigla}"/>
                    </select>
                    <br />
                    <label for="cep">CEP:</label>
                    <br />
                    <input type="text" jsf:value="#{alunoBean.aluno.endereco.cep}" name="cep" id="cep" />
                </fieldset>

                <br />
                <fieldset>
                    <legend>Contato</legend>
                    <label for="email">Email:</label>
                    <br />
                    <input type="email" jsf:value="#{alunoBean.aluno.email}" name="email" id="email" />
                    <br />
                    <label for="telFixoDD">Telefone Fixo
                    </label>
                    <br />
                    <input type="tel" jsf:value="#{alunoBean.aluno.telefone.ddFixo}"  name="telFixoDD" id="telFixoDD" />&#160;
                    <input type="tel" jsf:value="#{alunoBean.aluno.telefone.numeroFixo}"  name="telFixoNum" id="telFixoNum" />
                    <br />
                    <label for="telCelDD">Telefone Celular</label>
                    <br />
                    <input type="tel" jsf:value="#{alunoBean.aluno.telefone.ddCelular}" name="telCelDD" id="telCelDD" />&#160;
                    <input type="tel" jsf:value="#{alunoBean.aluno.telefone.numeroCelular}"  name="telCelNum" id="telCelNum" />
                    <br />
                </fieldset>

                <br />
                <input type="submit" jsf:action="#{alunoBean.gravar}" name="btnGravar" id="btnGravar" value="Gravar" />
                <input type="button" name="btnRelatorio" id="btnRelatorio" value="Relatorio" />
            </form>
        </ui:define>
    </ui:composition>
    </html>
